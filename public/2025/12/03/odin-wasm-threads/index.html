<!DOCTYPE html>
<html lang=en>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5" />
    <meta name="description" content="I’m currently making my next game Don’t Be No Joker in odin and sokol. One of my goals is to ship it to everywhere I reasonably can: Windows + Mac + Linux + Android + iOS + the web. This includes them">
<meta property="og:type" content="article">
<meta property="og:title" content="Browser Threads In Odin">
<meta property="og:url" content="http://andrew.town/2025/12/03/odin-wasm-threads/index.html">
<meta property="og:site_name" content="Andrew">
<meta property="og:description" content="I’m currently making my next game Don’t Be No Joker in odin and sokol. One of my goals is to ship it to everywhere I reasonably can: Windows + Mac + Linux + Android + iOS + the web. This includes them">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2025-12-03T16:16:20.152Z">
<meta property="article:modified_time" content="2025-12-03T16:16:20.153Z">
<meta property="article:author" content="Andrew">
<meta name="twitter:card" content="summary">
    
    
      
        
          <link rel="shortcut icon" href="/images/favicon.ico">
        
      
      
      
    
    <!-- title -->
    <title>Browser Threads In Odin</title>
    <!-- async scripts -->
    <!-- Google Analytics -->


    <!-- Umami Analytics -->


    <!-- styles -->
    
<link rel="stylesheet" href="/css/style.css">

    <!-- persian styles -->
    
    <!-- rss -->
    
    
	<!-- mathjax -->
	
<meta name="generator" content="Hexo 8.1.1"></head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="header-post">
  <a id="menu-icon" href="#" aria-label="Menu"><i class="fa-solid fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#" aria-label="Menu"><i class="fa-solid fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" aria-label="Top" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa-solid fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
        <!--
       --><li><a href="/">Home</a></li><!--
     -->
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        
        <li><a class="icon" aria-label="Back to top" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa-solid fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" aria-label="Share post" href="#"><i class="fa-solid fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=http://andrew.town/2025/12/03/odin-wasm-threads/"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=http://andrew.town/2025/12/03/odin-wasm-threads/&text=Browser Threads In Odin"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=http://andrew.town/2025/12/03/odin-wasm-threads/&title=Browser Threads In Odin"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=http://andrew.town/2025/12/03/odin-wasm-threads/&is_video=false&description=Browser Threads In Odin"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=Browser Threads In Odin&body=Check out this article: http://andrew.town/2025/12/03/odin-wasm-threads/"><i class="fa-solid fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=http://andrew.town/2025/12/03/odin-wasm-threads/&title=Browser Threads In Odin"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=http://andrew.town/2025/12/03/odin-wasm-threads/&title=Browser Threads In Odin"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=http://andrew.town/2025/12/03/odin-wasm-threads/&title=Browser Threads In Odin"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=http://andrew.town/2025/12/03/odin-wasm-threads/&title=Browser Threads In Odin"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=http://andrew.town/2025/12/03/odin-wasm-threads/&name=Browser Threads In Odin&description="><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=http://andrew.town/2025/12/03/odin-wasm-threads/&t=Browser Threads In Odin"><i class="fab fa-hacker-news " aria-hidden="true"></i></a></li>
</ul>

    </div>
    
    
      <div id="toc">
        <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#Pthreads-In-Odin"><span class="toc-number">1.</span> <span class="toc-text">Pthreads In Odin</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Odin-js-imports"><span class="toc-number">2.</span> <span class="toc-text">Odin.js imports</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#CORS-and-Hosting"><span class="toc-number">3.</span> <span class="toc-text">CORS and Hosting</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Safari-Issues"><span class="toc-number">4.</span> <span class="toc-text">Safari Issues</span></a></li></ol>
      </div>
    
  </span>
</div>

    
    <div class="content index py4 ">
        
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle p-name" itemprop="name headline">
        Browser Threads In Odin
    </h1>



    <div class="meta">
      <span class="author p-author h-card" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span class="p-name" itemprop="name">Andrew</span>
      </span>
      
    <div class="postdate">
      
        <time datetime="2025-12-03T16:16:20.152Z" class="dt-published" itemprop="datePublished">2025-12-03</time>
        
      
    </div>


      

      

    </div>
  </header>
  

  <div class="content e-content" itemprop="articleBody">
    <p>I’m currently making my next game Don’t Be No Joker in odin and sokol. One of my goals is to ship it to everywhere I reasonably can: Windows + Mac + Linux + Android + iOS + the web. This includes them all supporting the same features which requires multithreading, and while the web does support multithreading through web workers, I couldn’t find examples of people getting working with odin on the web. I eventually got them working so hopefully this explanation of how helps someone out. I also have a minimal example of a codebase with them working <a target="_blank" rel="noopener" href="https://github.com/andrew-3kb/odin-emscripten-pthreads-example">over on github</a> .</p>
<p>When compiling for the web I need to use emscripten to build sokol and link with our odin code. We can build the odin code with the freestanding wasm target or like most people use the JS target which supports a lot of odin packages out of the box that don’t work freestanding. The JS target’s generated wasm however relies on imports found in a provided <code>odin.js</code> file, and some work is needed to pass them along. <a target="_blank" rel="noopener" href="https://github.com/karl-zylinski/odin-sokol-hot-reload-template">Karl Zylinski has a great template for using odin and sokol on the web</a> and he makes this work by bypassing the usual method of loading emscripten wasm and instead loads it manually in the <code>index.html</code> so he can manage passing the imports himself. Kyle’s method however does not support threads as while he loads the main thread himself with the imports, emscripten manages loading the next threads and doesn’t pass them.</p>
<h3 id="Pthreads-In-Odin"><a href="#Pthreads-In-Odin" class="headerlink" title="Pthreads In Odin"></a>Pthreads In Odin</h3><p>We can’t use odin’s bundled threading library directly as it’s not supported in the JS target, so we will have to build our own threading scaffolding. Luckily emscripten provides a pthreads implementation, and all we need to do is define the functions in odin.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">pthread_t :: distinct uintptr</span><br><span class="line"></span><br><span class="line">@(default_calling_convention = &quot;c&quot;)</span><br><span class="line">foreign _ &#123;</span><br><span class="line">  pthread_create :: proc(thread: ^pthread_t, attr: rawptr, start_routine: proc(arg: rawptr) -&gt; rawptr, arg: rawptr) -&gt; c.int ---</span><br><span class="line">  pthread_join :: proc(thread: pthread_t, retval: ^rawptr) -&gt; c.int ---</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>and then we can create a thread using them, including passing data to the thread</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">ThreadData :: struct &#123;</span><br><span class="line">  ctx:  runtime.Context,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">thread_fn :: proc &quot;c&quot; (arg: rawptr) -&gt; rawptr &#123;</span><br><span class="line">  data := cast(^ThreadData)arg</span><br><span class="line">  context = data.ctx</span><br><span class="line">  log.info(&quot;Hello from a pthread!&quot;)</span><br><span class="line">  return nil</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">main :: proc () &#123;</span><br><span class="line">  data_ptr := new(ThreadData)</span><br><span class="line">  data_ptr^ = &#123; ctx = context &#125;</span><br><span class="line">  thread_id: pthread_t</span><br><span class="line">  pthread_create(&amp;thread_id, nil, thread_fn, data_ptr)</span><br><span class="line">  log.info(&quot;Hello from the main thread!&quot;)</span><br><span class="line">  pthread_join(thread_id, nil)</span><br><span class="line">  free(data_ptr)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>To get the above to compile we need to tell emcc we are using pthreads and to make a pool for us with the flags <code>-sUSE_PTHREADS=1 -sPTHREAD_POOL_SIZE=2</code>. We will also need to compile our odin code with atomics and bulk memory <code>-target-features=&quot;atomics,bulk-memory&quot;</code></p>
<p>Here is the full script I use to compile my program</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">odin build src -target:js_wasm32 -target-features=&quot;atomics,bulk-memory&quot; -build-mode:obj -out:game.wasm.o</span><br><span class="line">emcc -o index.html game.wasm.o -sUSE_PTHREADS=1 -sPTHREAD_POOL_SIZE=2 -sERROR_ON_UNDEFINED_SYMBOLS=0  -sWASM_BIGINT -sALLOW_MEMORY_GROWTH=1 -sSTACK_SIZE=5MB --shell-file index_template.html</span><br></pre></td></tr></table></figure>

<h3 id="Odin-js-imports"><a href="#Odin-js-imports" class="headerlink" title="Odin.js imports"></a>Odin.js imports</h3><p>The odin code should be good now, it will call emscripten’s implementation of pthreads and that will handle it from there. However we still need to solve the problem of passing the <code>odin.js</code> imports to the wasm in the threads. This is made harder as the odin imports are not clone-able, so can’t be passed between threads, they will have to be created inside each thread individually.</p>
<p>The emscripten generated <code>index.js</code> file is what is ran on every thread’s startup, including the main thread. If we move the loading of <code>odin.js</code> into there, and update it to pass the imports along when it loads the wasm we should be able to get around the issue.</p>
<p>We are going to add some code to the top of the <code>index.js</code> file that will run automatically when the page loads, and also on each thread as it’s created</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">// A thread local global variable where the odin imports are stored and accessed from</span><br><span class="line">odinImports = &#123;&#125;</span><br><span class="line"></span><br><span class="line">// The created threads won&#x27;t have access to the browsers global window object</span><br><span class="line">// which odin.js expects to exist - so check if it&#x27;s missing and if so set it</span><br><span class="line">// to a blank object</span><br><span class="line">window = typeof window === &quot;undefined&quot; ? &#123;&#125; : window</span><br><span class="line"></span><br><span class="line">// Import the odin.js which will get auto run. We can then set the odinImports</span><br><span class="line">// object to be real. We assign this promise to waitForOdinImports so we can</span><br><span class="line">// gate anything expecting odinImports to be set behind it</span><br><span class="line">waitForOdinImports = import(&quot;/odin.js&quot;).then(() =&gt; &#123;</span><br><span class="line">  const odin = window.odin</span><br><span class="line">  const odinMemoryInterface = new odin.WasmMemoryInterface();</span><br><span class="line">  odinMemoryInterface.setIntSize(4);</span><br><span class="line">  odinImports = odin.setupDefaultImports(odinMemoryInterface);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>Now we have got the imports in each thread, we need to make sure they are returned from the <code>getWasmImports</code> function. We can update it to include the <code>odinImports</code> we created before like so:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">function getWasmImports() &#123;</span><br><span class="line">  assignWasmImports();</span><br><span class="line">  var imports = &#123;</span><br><span class="line">    ...odinImports,</span><br><span class="line">    &quot;env&quot;: wasmImports,</span><br><span class="line">    &quot;wasi_snapshot_preview1&quot;: wasmImports</span><br><span class="line">  &#125;;</span><br><span class="line">  return imports;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>We also need to make sure the thread has finished importing <code>odin.js</code> by the time <code>getWasmImports()</code> gets called, so we need to gate it behind the promise we made. The most convenient place I’ve found to do this is in the two places where the code looks like </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">createWasm();</span><br><span class="line">run();</span><br></pre></td></tr></table></figure>

<p>We update both to be</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">waitForOdinImports.then(() =&gt; &#123;</span><br><span class="line">	createWasm();</span><br><span class="line">	run();</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>and that’s it. However manually editing the index.js file every time is tedious, so you might want to automate it, see the example repo for a python script that does this.</p>
<h3 id="CORS-and-Hosting"><a href="#CORS-and-Hosting" class="headerlink" title="CORS and Hosting"></a>CORS and Hosting</h3><p>Emscripten pthreads use SharedArrayBuffer, a web feature that is only enabled if the server where your code is hosted sends specific headers in it’s response. <a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/SharedArrayBuffer">You can read more about this over on mdn</a>. This means that simply serving the files will result in errors. See the <a target="_blank" rel="noopener" href="https://github.com/andrew-3kb/odin-emscripten-pthreads-example/blob/master/build.py">example code</a> for a small python server that sends the needed headers.</p>
<h3 id="Safari-Issues"><a href="#Safari-Issues" class="headerlink" title="Safari Issues"></a>Safari Issues</h3><p>Work perfectly in chrome that is, safari however will give memory access errors. I’m not 100% sure why this happens but can be mitigated by giving emcc a total memory size <code>-sTOTAL_MEMORY=64MB</code></p>

  </div>
</article>



        
          <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
        
          <li><a href="/">Home</a></li>
        
      </ul>
    </div>

    
    
      <div id="toc-footer" style="display: none">
        <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#Pthreads-In-Odin"><span class="toc-number">1.</span> <span class="toc-text">Pthreads In Odin</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Odin-js-imports"><span class="toc-number">2.</span> <span class="toc-text">Odin.js imports</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#CORS-and-Hosting"><span class="toc-number">3.</span> <span class="toc-text">CORS and Hosting</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Safari-Issues"><span class="toc-number">4.</span> <span class="toc-text">Safari Issues</span></a></li></ol>
      </div>
    

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=http://andrew.town/2025/12/03/odin-wasm-threads/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=http://andrew.town/2025/12/03/odin-wasm-threads/&text=Browser Threads In Odin"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=http://andrew.town/2025/12/03/odin-wasm-threads/&title=Browser Threads In Odin"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=http://andrew.town/2025/12/03/odin-wasm-threads/&is_video=false&description=Browser Threads In Odin"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=Browser Threads In Odin&body=Check out this article: http://andrew.town/2025/12/03/odin-wasm-threads/"><i class="fa-solid fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=http://andrew.town/2025/12/03/odin-wasm-threads/&title=Browser Threads In Odin"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=http://andrew.town/2025/12/03/odin-wasm-threads/&title=Browser Threads In Odin"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=http://andrew.town/2025/12/03/odin-wasm-threads/&title=Browser Threads In Odin"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=http://andrew.town/2025/12/03/odin-wasm-threads/&title=Browser Threads In Odin"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=http://andrew.town/2025/12/03/odin-wasm-threads/&name=Browser Threads In Odin&description="><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=http://andrew.town/2025/12/03/odin-wasm-threads/&t=Browser Threads In Odin"><i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fa-solid fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        
          <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fa-solid fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fa-solid fa-share-alt fa-lg" aria-hidden="true"></i> Share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa-solid fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>

        
        <footer id="footer">
  <div class="footer-left">
    Copyright &copy;
    
    
    2016-2025
    Andrew
  </div>
  <div class="footer-right">
    <nav>
      <ul>
        <!--
       --><li><a href="/">Home</a></li><!--
     -->
      </ul>
    </nav>
  </div>
</footer>

    </div>
    <!-- styles -->



  <link rel="preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" crossorigin="anonymous" onload="this.onload=null;this.rel='stylesheet'"/>


    <!-- jquery -->

  
<script src="/lib/jquery/jquery.min.js"></script>





<!-- clipboard -->

  
    
<script src="/lib/clipboard/clipboard.min.js"></script>

  
  <script type="text/javascript">
  $(function() {
    // copy-btn HTML
    var btn = "<span class=\"btn-copy tooltipped tooltipped-sw\" aria-label=\"Copy to clipboard!\">";
    btn += '<i class="fa-regular fa-clone"></i>';
    btn += '</span>';
    // mount it!
    $(".highlight table").before(btn);
    var clip = new ClipboardJS('.btn-copy', {
      text: function(trigger) {
        return Array.from(trigger.nextElementSibling.querySelectorAll('.code')).reduce((str,it)=>str+it.innerText+'\n','')
      }
    });
    clip.on('success', function(e) {
      e.trigger.setAttribute('aria-label', "Copied!");
      e.clearSelection();
    })
  })
  </script>


<script src="/js/main.js"></script>

<!-- search -->

<!-- Baidu Analytics -->

<!-- Cloudflare Analytics -->

<!-- Disqus Comments -->

<!-- utterances Comments -->


</body>
</html>
